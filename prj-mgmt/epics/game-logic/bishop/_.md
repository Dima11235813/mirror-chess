Love it—this is a perfect bishop mirror example. Here’s a Playwright E2E that (1) loads the exact position, (2) clicks **f1** bishop, (3) verifies hint colors (A4, B5, C6 green as “move”; D7 red as “capture”), and (4) takes a screenshot.

# Minimal testability hooks (tiny UI change)

Add stable attributes when you render squares and hints (one-time patch):

```tsx
// Square.tsx (or wherever you render each square & hint dot)
<div
  className={squareClass}
  data-square={algebraic}            // e.g., "a4"
>
  {hint && (
    <span
      className="hint-dot"
      data-hint={hint.kind}          // "move" | "capture"
      data-square={algebraic}        // duplicate for direct access
    />
  )}
</div>
```

What’s shown:

* Start: **f1** (cyan outline).
* **Green dots**: **g2**, **h3**, **a4**, **b5**, **c6**.
* **Red dot/ring**: **d7** capture.
* Faded left board shows the mirror path-check; curved arrows illustrate “use side → teleport to center.”

**Exact board (FEN)** used for this graphic (matching your screenshot):


# E2E test

```ts
// tests/e2e/bishop-mirror-hints.spec.ts
import { test, expect } from '@playwright/test';

/**
 * Your app already supports seeding via query string.
 * Replace BOARD_QUERY with your app’s scheme.
 * Below we assume `?board=<FEN>&turn=white`
 * using the position from your screenshot where the f1 bishop is selected.
 */

const FEN = 'r1bQkbnr/P1Bp1pPp/1B2p3/5p2/1n3P2/5NR1/P1PPP11P/RNBQKB1R w - - 0 1';
// If your router expects fromPiecesSpec instead, swap to that format.
const BOARD_QUERY = `?board=${encodeURIComponent('fen:' + FEN)}&turn=white`;

test.describe('Mirror bishop hints from f1', () => {
  test('A4, B5, C6 show green (move) and D7 red (capture)', async ({ page }) => {
    await page.goto('/' + BOARD_QUERY);

    // Click bishop on f1
    await page.getByRole('button', { name: /f1/i }).click().catch(async () => {
      // Fallback if you don’t expose roles:
      await page.locator('[data-square="f1"]').click();
    });

    // Assert green move hints
    await expect(page.locator('[data-hint="move"][data-square="a4"]')).toBeVisible();
    await expect(page.locator('[data-hint="move"][data-square="b5"]')).toBeVisible();
    await expect(page.locator('[data-hint="move"][data-square="c6"]')).toBeVisible();

    // Assert red capture hint
    await expect(page.locator('[data-hint="capture"][data-square="d7"]')).toBeVisible();

    // Visual snapshot of the state (use once to bootstrap snapshots)
    await expect(page).toHaveScreenshot('bishop-f1-mirror-targets.png', {
      fullPage: false,
    });
  });
});
```

# Playwright config (if you don’t already have these)

```ts
// playwright.config.ts
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: 'tests/e2e',
  fullyParallel: true,
  retries: process.env.CI ? 2 : 0,
  use: {
    baseURL: 'http://localhost:5173',
    trace: 'on-first-retry',
  },
  projects: [
    { name: 'chromium', use: { ...devices['Desktop Chrome'] } },
  ],
  webServer: {
    command: 'npm run preview',
    url: 'http://localhost:5173',
    reuseExistingServer: !process.env.CI,
    timeout: 30_000,
  },
});
```

# How to run (headed with picture)

```bash
# install (one time)
npm i -D @playwright/test
npx playwright install

# run headed so you can see it
npx playwright test tests/e2e/bishop-mirror-hints.spec.ts --headed

# accept the first baseline snapshot
npx playwright test tests/e2e/bishop-mirror-hints.spec.ts --update-snapshots
```

# Notes

* If your app doesn’t expose `aria-role="button"` on squares, the `data-square`/`data-hint` attributes make the test robust and CSS-agnostic.
* If your seed format isn’t FEN, I can convert this position to your existing `fromPiecesSpec` string instead—just confirm the parser you wired to `?board=...`.
* Want me to add a **triple-board** overlay screenshot like we did for the knight, but captured via Playwright from your app? I can wire a second spec that isolates the board element and saves a focused snapshot.

